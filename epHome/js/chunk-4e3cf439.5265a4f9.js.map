{"version":3,"sources":["webpack:///./src/views/newsMessage/NewsMessage.vue","webpack:///./src/components/selectedNews/SelectedNews.vue","webpack:///./src/components/selectedNews/SelectedNews.vue?745e","webpack:///./src/views/newsMessage/NewsMessage.vue?fd38","webpack:///./src/views/newsMessage/NewsMessage.vue?eee8","webpack:///./src/components/selectedNews/SelectedNews.vue?a370"],"names":["class","style","data-wow-duration","data-wow-delay","related_news","length","swiperBg","spanText","swiper-pagination","h2","subtitle","right-swiper","item","index","key","$router","push","news_id","main_img","ep_type","color","name","release_time","substring","title","theme","content","type","swiperData","selected_news","news_column","news","lastYear_news","column-title","to","dataValues","column_name","props","Array","default","components","GlobalSwiper","ArticleItem","mounted","this","$wow","WOW","live","init","__exports__","CommonBox","CommonSwiper","SelectedNews","SectionRow","data","created","_initData","$store","state","newsViewNum","window","addEventListener","handleScroll","beforeUnmount","removeEventListener","$nextTick","scroll","updated","initSwiper","methods","result","changeIsData","scrollTo","loop","autoplay","observer","observeParents","grabCursor","navigation","nextEl","prevEl","pagination","el","clickable","changeNewsScroll","pageYOffset","setTimeout","document","body","scrollTop","documentElement","render"],"mappings":"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","file":"js/chunk-4e3cf439.5265a4f9.js","sourcesContent":["<template>\n  <!-- 最新消息页 -->\n  <!-- 头部banner   -->\n  <GlobalSwiper\n      v-if=\"related_news.length>0\"\n      swiperBg=\"swiper-pg\"\n      spanText=\"为你呈上近期环保热话及编辑推介文章，罗列国际和本地你不可不知道的重要资讯。\"\n  >\n    <template v-slot:swiper-pagination>\n      <!-- swiper翻页器 -->\n      <div :class=\"`swiper-pagination swiper-pg` \"></div>\n    </template>\n    <template v-slot:h2>\n      <h2 class=\"h2\" style=\"color: var(--black)\">最新消息</h2>\n    </template>\n    <template v-slot:subtitle>\n      <p class=\"subtitle\">FROM THE EARTH</p>\n    </template>\n    <template v-slot:right-swiper>\n      <div class=\"swiper home-swiper\">\n        <!-- 单个swiper -->\n        <div class=\"swiper-wrapper\">\n          <div\n              class=\"swiper-slide\"\n              v-for=\"(item,index) in related_news\"\n              :key=\"index\"\n              @click=\"this.$router.push({path:'/newsDetail', query: { news_id: item.news_id }})\"\n          >\n            <div class=\"slide-con box-sha1 AN\">\n              <div class=\"left-img\" :style=\"{ backgroundImage: `url(${item.main_img})` }\"></div>\n              <div class=\"right-content\">\n                <div class=\"title\">\n                  <p :style=\"{color:item.ep_type.color}\">\n                    {{ item.ep_type.name }}\n                    <span>专题报道</span>\n                  </p>\n                  <span>{{ (item.release_time).substring(0, 10) }}</span>\n                </div>\n                <p class=\"box-p\">{{ item.title }}</p>\n                <span class=\"button ANM bor-rad box-sha1\">立即浏览</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"swiper-button-next swiper-bt box-sha2\"></div>\n        <div class=\"swiper-button-prev swiper-bt box-sha2\"></div>\n      </div>\n    </template>\n  </GlobalSwiper>\n  <!-- 第二部分 -->\n  <CommonBox theme=\"dark-theme\">\n    <template v-slot:content>\n      <CommonSwiper :type=\"1\"\n                    :swiperData='{img_arr: `[\"http://49.233.14.172:9999/imgs/2021/11/00d08af67985e41a.jpg\"]`,text: \"世界上无数人都在竭力追求更好的未来。在此你可以了解更多环保、生活相关的故事及消息。\"}'\n      ></CommonSwiper>\n    </template>\n  </CommonBox>\n  <!-- 精选文章 -->\n  <SelectedNews class=\"selected-con\" :related_news=\"this.selected_news\"/>\n  <!-- 专栏  -->\n  <div class=\"column\" v-for=\"(item, index) in this.news_column\" :key=\"index\">\n    <SectionRow v-if=\"item.news?.length > 0\" :lastYear_news=\"item.news\">\n      <template v-slot:column-title>\n        <div\n            class=\"last-more animate__animated animate__fadeIn wow\"\n            data-wow-duration=\"1s\"\n            data-wow-delay=\".5s\"\n        >\n          <h2>\n            <router-link to=\"/\">\n              {{ item.dataValues?.column_name }}\n              <i class=\"iconfont icon-you\"></i>\n            </router-link>\n          </h2>\n        </div>\n      </template>\n    </SectionRow>\n  </div>\n</template>\n\n<script>\nimport GlobalSwiper from \"@/components/common/GlobalSwiper\";\nimport CommonBox from \"@/components/projectOrTypes/commonBox\";\nimport CommonSwiper from \"@/components/projectOrTypes/CommonSwiper\";\nimport SelectedNews from \"@/components/selectedNews/SelectedNews\";\nimport SectionRow from \"@/components/common/SectionRow\";\nimport {getNewsMessage} from \"@/tools/request\";\nimport {mapMutations} from \"vuex\"\nimport Swiper from \"swiper\";\n\nexport default {\n  name: \"NewsMessage\",\n  components: {\n    GlobalSwiper,\n    CommonBox,\n    CommonSwiper,\n    SelectedNews,\n    SectionRow\n  },\n  data() {\n    return {\n      related_news: [], // 相关新闻\n      selected_news: [], // 精选文章\n      news_column: [], // 新闻专栏数据\n    }\n  },\n  created() {\n    new this.$wow.WOW({\n      live: false\n    }).init()\n    this._initData()\n    if (this.$store.state.newsViewNum != 0) {\n      window.addEventListener(' scroll', this.handleScroll, true)\n    }\n  },\n  beforeUnmount() {\n    window.removeEventListener('scroll', this.handleScroll, true)\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.scroll()\n    })\n  },\n  updated() {\n    new this.$wow.WOW({\n      live: false\n    }).init()\n    this.$nextTick(() => {\n      this.initSwiper()\n      this.scroll()\n    })\n  },\n  methods: {\n    ...mapMutations(['changeIsData', 'changeNewsScroll']),\n    async _initData() {\n      const result = await getNewsMessage()\n      //显示 nav\n      result.result.related_news.length > 0 ? this.changeIsData() : null\n      // 相关新闻\n      this.related_news = result.result.related_news\n      // 精选文章\n      this.selected_news = result.result.selected_news\n      // 新闻专栏\n      this.news_column = result.result.news_column\n      window.scrollTo(0, 0)\n    },\n\n    initSwiper() {\n      new Swiper(\".home-swiper\", {\n        // 循环模式选项\n        loop: false,\n        // 自动播放\n        autoplay: false,\n        observer: true, // 修改swiper自己或子元素时，自动初始化swiper\n        observeParents: true, // 修改swiper的父元素时，自动初始化swiper\n        grabCursor: true,\n        // slidesPerView: \"auto\",\n\n        navigation: {\n          nextEl: \".swiper-button-next\",\n          prevEl: \".swiper-button-prev\",\n        },\n        // 如果需要分页器\n        pagination: {\n          el: \".swiper-pagination\",\n          clickable: true,\n        },\n      })\n    },\n\n    // 监听滚动方法\n    handleScroll() {\n      this.changeNewsScroll(window.pageYOffset)\n      // console.log(window.pageYOffset);\n    },\n\n    // 滚动方法\n    scroll() {\n      setTimeout(() => {\n        document.body.scrollTop = this.$store.state.newsViewNum\n        document.documentElement.scrollTop = this.$store.state.newsViewNum\n        window.scrollTo(0, this.$store.state.newsViewNum)\n        // console.log(this.$store.state.newsViewNum);\n      }, 500);\n    }\n  },\n}\n</script>\n\n<style scoped lang=\"less\">\n@import '~@/assets/css/homeSwiper.css';\n\nh2 {\n  margin-bottom: 20px;\n  font-size: 38px;\n  color: var(--black);\n\n  a {\n    display: flex;\n    color: var(--black);\n    align-items: center;\n\n    i {\n      margin-left: 5px;\n    }\n  }\n}\n\n.selected-con {\n  height: auto;\n}\n\n@media only screen and (min-width: 1024px) {\n  // 第二部分样式\n  .selected-con {\n    max-height: 450px !important;\n    overflow: hidden;\n  }\n}\n</style>\n","<template>\n  <!--  精选文章 -->\n  <GlobalSwiper swiperBg=\"swiper-pg\" spanText=\"为你呈上近期环保热话及编辑推介文章，罗列国际和本地你不可不知道的重要资讯。\">\n    <template v-slot:swiper-pagination>\n      <!-- swiper翻页器 -->\n      <div :class=\"`swiper-pagination swiper-pg` \"></div>\n    </template>\n    <template v-slot:h2>\n      <h2\n        class=\"h2 animate__animated animate__fadeIn wow\"\n        data-wow-duration=\"1s\"\n        data-wow-delay=\".5s\"\n        style=\"color: var(--black)\"\n      >精选文章</h2>\n    </template>\n    <template v-slot:subtitle>\n      <p\n        class=\"subtitle animate__animated animate__fadeIn wow\"\n        data-wow-duration=\"1s\"\n        data-wow-delay=\".8s\"\n      >FROM THE EARTH</p>\n    </template>\n    <template v-slot:right-swiper>\n      <div class=\"article_list\">\n        <ArticleItem\n          v-for=\"(item, index) in this.related_news\"\n          :news=\"item\"\n          :key=\"index\"\n          :index=\"index\"\n        />\n      </div>\n    </template>\n  </GlobalSwiper>\n</template>\n\n<script>\nimport GlobalSwiper from \"@/components/common/GlobalSwiper\";\nimport ArticleItem from \"@/components/selectedNews/ArticleItem\";\n\nexport default {\n  name: \"SelectedNews\",\n  props: {\n    related_news: {\n      type: Array,\n      default: []\n    }\n  },\n  components: {\n    GlobalSwiper,\n    ArticleItem\n  },\n  mounted () {\n    new this.$wow.WOW({\n      live: false\n    }).init()\n  }\n}\n</script>\n\n<style scoped>\n@import '~@/assets/css/homeSwiper.css';\n\n.article_list {\n  margin-bottom: 20px;\n}\n\n@media only screen and (min-width: 1024px) {\n  .article_list {\n    margin-left: 20%;\n    width: 65%;\n    display: grid;\n    grid-column-gap: 30px;\n    margin-bottom: 0 !important;\n    grid-template-columns: repeat(auto-fill, minmax(45%, 1fr));\n  }\n}\n</style>\n","import { render } from \"./SelectedNews.vue?vue&type=template&id=21db4800&scoped=true\"\nimport script from \"./SelectedNews.vue?vue&type=script&lang=js\"\nexport * from \"./SelectedNews.vue?vue&type=script&lang=js\"\n\nimport \"./SelectedNews.vue?vue&type=style&index=0&id=21db4800&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/huangweiji/Desktop/code/git_project/EP-match/EP-website/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-21db4800\"]])\n\nexport default __exports__","import { render } from \"./NewsMessage.vue?vue&type=template&id=3b581b76&scoped=true\"\nimport script from \"./NewsMessage.vue?vue&type=script&lang=js\"\nexport * from \"./NewsMessage.vue?vue&type=script&lang=js\"\n\nimport \"./NewsMessage.vue?vue&type=style&index=0&id=3b581b76&scoped=true&lang=less\"\n\nimport exportComponent from \"/Users/huangweiji/Desktop/code/git_project/EP-match/EP-website/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3b581b76\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NewsMessage.vue?vue&type=style&index=0&id=3b581b76&scoped=true&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SelectedNews.vue?vue&type=style&index=0&id=21db4800&scoped=true&lang=css\""],"sourceRoot":""}